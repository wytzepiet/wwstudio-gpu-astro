---
import { Image } from 'astro:assets';
import TimelineItem from './TimelineItem.astro';

interface Props {
	image: ImageMetadata;
	title: string;
	description: string;
	tags: string[];
}

const { image, title, description, tags } = Astro.props;
---

<TimelineItem class="absolute inset-0 p-20 flex items-center justify-center">
	<div class="flex flex-col items-start transform-style-3d">
		<div class="image relative overflow-hidden rotate-[-5deg] bg-background border rounded w-[300px]">
			<Image src={image} alt={title} class="w-full h-full grayscale mix-blend-plus-lighter opacity-90" width={1000} />

			<img
				src="/noise2.gif"
				alt=""
				class="absolute inset-0 h-full w-full object-cover opacity-[0.08] mix-blend-luminosity pointer-events-none"
			/>
		</div>

		<div class="info max-w-md flex flex-col mt-[-50px] ml-[50px] translate-z-8 origin-top transform-style-3d">
			<div class="absolute inset-0 bg-background/60 backdrop-blur rounded border"></div>
			<div class="flex flex-wrap gap-1 text-[0.9em] uppercase border-b p-1">
				{
					tags.map((tag) => (
						<div class="px-1 leading-3 rounded-sm border text-vibrant/60">
							{/* <span class="h-1 w-1 bg-primary inline-block align-middle" /> */}
							{tag}
						</div>
					))
				}
			</div>
			<div class="p-4 pt-2 flex flex-col gap-3 transform-style-3d">
				<h2 class="text-4xl uppercase translate-z-5 animate-text">{title}</h2>
				<p class="text-muted-foreground translate-z-3 animate-text">{description}</p>
			</div>
		</div>
	</div>
</TimelineItem>

<style>
	* {
		transform-style: preserve-3d;
	}
</style>
